{"ast":null,"code":"import React,{useState,useEffect}from'react';import Square from'./Square.js';import{useNavigate,useLocation}from'react-router-dom';import'./Board.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Board(){var _location$state;// Array is created to track square has which value with X or O\nconst[square,setSquare]=useState(Array(9).fill(null));// This state will keep track whose turn is next\nconst[xIsNext,setXIsNext]=useState(true);const navigate=useNavigate();const location=useLocation();// For demo purposes - replace with actual username from login/authentication\nconst username=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.username)||\"Player\";// State to control welcome message visibility\nconst[showWelcome,setShowWelcome]=useState(true);// Hide welcome message after 3 seconds\nuseEffect(()=>{const timer=setTimeout(()=>{setShowWelcome(false);},3000);return()=>clearTimeout(timer);},[]);function resetBoard(){setSquare(Array(9).fill(null));setXIsNext(true);}function handleLogout(){localStorage.removeItem('authToken');navigate('/');// Redirect to login page\n}function handleClick(i){if(square[i]||calculateWinner(square)){return;}const nextSquare=square.slice();nextSquare[i]=xIsNext?'X':'O';setSquare(nextSquare);setXIsNext(!xIsNext);}const winner=calculateWinner(square);let status;if(winner){status='Winner: '+winner;}else if(!square.includes(null)){status='Draw!';}else{status='Next player: '+(xIsNext?'X':'O');}return/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tic Tac Toe\"})}),showWelcome&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",username,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Get ready to play!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"player-info\",children:/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:username})}),/*#__PURE__*/_jsx(\"div\",{className:\"game-status\",children:status}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn\",onClick:resetBoard,children:\"New Game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn\",onClick:handleLogout,children:\"Log out\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board\",children:[...Array(9)].map((_,i)=>/*#__PURE__*/_jsx(Square,{value:square[i],OnSquareClick:()=>handleClick(i)},i))})]});}function calculateWinner(square){const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let i=0;i<lines.length;i++){const[a,b,c]=lines[i];if(square[a]&&square[a]===square[b]&&square[a]===square[c]){return square[a];}}return null;}","map":{"version":3,"names":["React","useState","useEffect","Square","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Board","_location$state","square","setSquare","Array","fill","xIsNext","setXIsNext","navigate","location","username","state","showWelcome","setShowWelcome","timer","setTimeout","clearTimeout","resetBoard","handleLogout","localStorage","removeItem","handleClick","i","calculateWinner","nextSquare","slice","winner","status","includes","className","children","onClick","map","_","value","OnSquareClick","lines","length","a","b","c"],"sources":["C:/Users/lpave/ProjectPasskey/Project_Passkey/Frontend/src/component/Board.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Square from './Square.js';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport './Board.css';\r\n\r\nexport default function Board() {\r\n  // Array is created to track square has which value with X or O\r\n  const [square, setSquare] = useState(Array(9).fill(null));\r\n  // This state will keep track whose turn is next\r\n  const [xIsNext, setXIsNext] = useState(true);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // For demo purposes - replace with actual username from login/authentication\r\n  const username = location.state?.username || \"Player\";\r\n  \r\n  // State to control welcome message visibility\r\n  const [showWelcome, setShowWelcome] = useState(true);\r\n  \r\n  // Hide welcome message after 3 seconds\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShowWelcome(false);\r\n    }, 3000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  function resetBoard() {\r\n    setSquare(Array(9).fill(null));\r\n    setXIsNext(true);\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('authToken');\r\n    navigate('/'); // Redirect to login page\r\n  }\r\n\r\n  function handleClick(i) {\r\n    if (square[i] || calculateWinner(square)) {\r\n      return;\r\n    }\r\n    \r\n    const nextSquare = square.slice();\r\n    nextSquare[i] = xIsNext ? 'X' : 'O';\r\n    \r\n    setSquare(nextSquare);\r\n    setXIsNext(!xIsNext);\r\n  }\r\n\r\n  const winner = calculateWinner(square);\r\n  let status;\r\n  if (winner) {\r\n    status = 'Winner: ' + winner;\r\n  } else if (!square.includes(null)) {\r\n    status = 'Draw!';\r\n  } else {\r\n    status = 'Next player: ' + (xIsNext ? 'X' : 'O');\r\n  }\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {/* App Header */}\r\n      <div className=\"app-header\">\r\n        <h1>Tic Tac Toe</h1>\r\n      </div>\r\n      \r\n      {/* Welcome Message */}\r\n      {showWelcome && (\r\n        <div className=\"welcome-message\">\r\n          <h2>Welcome, {username}!</h2>\r\n          <p>Get ready to play!</p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Navigation Bar */}\r\n      <div className=\"nav-bar\">\r\n        <div className=\"player-info\">\r\n          <span className=\"username\">{username}</span>\r\n        </div>\r\n        <div className=\"game-status\">{status}</div>\r\n        <div className=\"nav-controls\">\r\n          <button className=\"nav-btn\" onClick={resetBoard}>New Game</button>\r\n          <button className=\"nav-btn\" onClick={handleLogout}>Log out</button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Game Board */}\r\n      <div className=\"board\">\r\n        {[...Array(9)].map((_, i) => (\r\n          <Square\r\n            key={i}\r\n            value={square[i]}\r\n            OnSquareClick={() => handleClick(i)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction calculateWinner(square) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (square[a] && square[a] === square[b] && square[a] === square[c]) {\r\n      return square[a];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}